#include <iostream>
#include <windows.h>
#include <cmath>
using namespace std;

int main() {
    SetConsoleCP(1251);
    SetConsoleOutputCP(1251);
    //Оголошення змінних для коефіцієнтів
    double a, b, c;
    //Введення значень від користувача
    cout << "Введіть коефіцієнт a: ";
    cin >> a;
    cout << "Введіть коефіцієнт b: ";
    cin >> b;
    cout << "Введіть коефіцієнт c: ";
    cin >> c;
    // Обчислення дискримінанта за формулою
    double D = b * b - 4 * a * c;
    // Виведення результату
    cout << "Дискримінант D = " << D << endl;

    cout << "-----------------------------" << endl;
	while (true) { // цикл для того, щоб користувач міг виконувати програму кілька разів
        double a1, b1, c1;
        double a2, b2, c2;
        // Введення коефіцієнтів першої параболи (y1 = a1*x^2 + b1*x + c1)
        cout << "Введіть коефіцієнти першої параболи (a1, b1, c1): ";
        cin >> a1 >> b1 >> c1;
        // Введення коефіцієнтів другої параболи (y2 = a2*x^2 + b2*x + c2)
        cout << "Введіть коефіцієнти другої параболи (a2, b2, c2): ";
        cin >> a2 >> b2 >> c2;
        
        // Формування рівняння для точок перетину: (a1-a2)x^2 + (b1-b2)x + (c1-c2) = 0
		double A = a1 - a2; // різниця квадратичних коефіцієнтів
        double B = b1 - b2; // різниця лінійних коефіцієнтів
        double C = c1 - c2; // різниця вільних членів

		// Виведення рівняння для точок перетину
        cout << "Рівняння для точок перетину: " << A << "x^2 + " << B << "x + " << C << " = 0" << endl;
		double Discr = B * B - 4 * A * C; // Обчислення дискримінанта
		if (A == 0 && B == 0) {
            // Якщо A=0 і B=0, рівняння зводиться до C=0
            if (C == 0) {
                cout << "Параболи співпадають (безліч точок перетину)" << endl;
            }
            else {
                cout << "Параболи паралельні (не перетинаються)" << endl;
            }
        }
        else if (A == 0) {
            // Якщо A=0, рівняння стає лінійним (Bx + C = 0)
            double x = -C / B;
            double y = a1 * x * x + b1 * x + c1;
            cout << "Одна точка перетину: (" << x << ", " << y << ")" << endl;
        }
        else {
            // Якщо A!=0, квадратне рівняння
            if (Discr < 0) {
                // Discr < 0, дійсних коренів немає
                cout << "Точок перетину немає (D < 0)." << endl;
            }
            else if (Discr == 0) {
                // Discr = 0, одна точка перетину
                double x = -B / (2 * A);
                double y = a1 * x * x + b1 * x + c1;
                cout << "Одна точка перетину: (" << x << ", " << y << ")" << endl;
            }
            else {
                // Discr > 0, дві точки перетину
                double x1 = (-B + sqrt(Discr)) / (2 * A);
                double x2 = (-B - sqrt(Discr)) / (2 * A);
                double y1 = a1 * x1 * x1 + b1 * x1 + c1;
                double y2 = a1 * x2 * x2 + b1 * x2 + c1;
                cout << "Дві точки перетину:" << endl;
                cout << "x1 = " << x1 << ", y1 = " << y1 << endl;
                cout << "x2 = " << x2 << ", y2 = " << y2 << endl;
            }
        }
		int exitChoice;
		cout << "Вийти з програми? (1-так (завершити), 0-ні (продовжити)): ";
		cin >> exitChoice;
        if (exitChoice == 1) {
			break; //вихід з циклу якщо користувач обрав 1
        }
	}

    return 0;
}
